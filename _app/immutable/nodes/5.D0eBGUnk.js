import{n as ct,b as f,t as M,c as lt}from"../chunks/CEWXSXl-.js";import{p as dt,h as Pt,a6 as At,a8 as Ct,a9 as Lt,w as Mt,C as St,o as Vt,d as It,aa as jt,P as t,Q as P,R as a,S as L,q as Nt,_ as g,u as Bt,Z as e,x as s,$ as d,Y as ot,ab as nt}from"../chunks/CLXmmNX4.js";import{s as b}from"../chunks/CF0q4neI.js";import{l as N,a as x,i as j}from"../chunks/B0IYGepZ.js";import{s as ut,a as _t,C as ft,l as Ft,b as Y}from"../chunks/Daw9WvUf.js";import{d as Ht}from"../chunks/V95zqkDf.js";import{o as Rt}from"../chunks/WSMFlasz.js";import{Q as Tt}from"../chunks/Cnd4Ig8R.js";import"../chunks/BOnbMMTX.js";import{b as G}from"../chunks/Dms0w2or.js";function Zt(h,o,n){dt&&Pt();var i=h,r=jt,l,u=At()?Ct:Lt;Mt(()=>{u(r,r=o())&&(l&&St(l),l=Vt(()=>n(i)))}),dt&&(i=It)}var Dt=ct('<svg><!><path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm10.03 4.97a.75.75 0 0 1 .011 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.75.75 0 0 1 1.08-.022z"></path></svg>');function Et(h,o){const n=N(o,["children","$$slots","$$events","$$legacy"]),i=N(n,[]);var r=Dt();let l;var u=t(r);ut(u,o,"default",{}),P(),a(r),L(()=>l=_t(r,l,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",...i,[ft]:{bi:!0,"bi-check-square-fill":!0}},void 0,!0)),f(h,r)}var Ut=ct('<svg><!><path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm3.354 4.646L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 1 1 .708-.708z"></path></svg>');function Xt(h,o){const n=N(o,["children","$$slots","$$events","$$legacy"]),i=N(n,[]);var r=Ut();let l;var u=t(r);ut(u,o,"default",{}),P(),a(r),L(()=>l=_t(r,l,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",...i,[ft]:{bi:!0,"bi-x-square-fill":!0}},void 0,!0)),f(h,r)}function Yt(h,o){o()}var Gt=M(`<div class="alert alert-warning"><div><svg xmlns="http://www.w3.org/2000/svg" class="stroke-current flex-shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <span>No hay preguntas disponibles. Por favor, crea algunas
                    preguntas primero.</span></div> <div class="flex-none"><a class="btn btn-sm">Volver al inicio</a></div></div>`),Jt=M('<div class="card bg-base-100 shadow-xl"><div class="card-body items-center text-center"><h2 class="card-title text-2xl">¡Quiz completado!</h2> <p class="mb-4"> </p> <div class="stats shadow my-4"><div class="stat"><div class="stat-figure text-success"><!></div> <div class="stat-title">Aciertos</div> <div class="stat-value text-success"> </div></div> <div class="stat"><div class="stat-figure text-error"><!></div> <div class="stat-title">Fallos</div> <div class="stat-value text-error"> </div></div> <div class="stat"><div class="stat-value"> </div> <div class="stat-title">Precisión</div></div></div> <div class="card-actions"><button class="btn btn-primary">Volver a jugar</button> <a class="btn btn-outline">Volver al inicio</a></div></div></div>'),Kt=M('<div class="card-actions justify-center mt-4"><button class="btn btn-lg btn-primary"> </button></div>'),Ot=M('<div class="card bg-base-100 shadow-xl"><div class="card-body"><!> <!></div></div>'),Wt=M('<div class="container mx-auto px-4 py-8 max-w-3xl"><div class="flex justify-between items-center mb-6"><h1 class="text-3xl font-bold text-center">Test Aleatorio</h1> <a class="btn btn-outline btn-sm">Volver al inicio</a></div> <div class="stats shadow w-full mb-6"><div class="stat"><div class="stat-title">Progreso</div> <div class="stat-value text-primary"> </div> <div class="stat-desc">Preguntas respondidas</div></div> <div class="stat"><div class="stat-title">Puntuación</div> <div class="stat-value text-success"> </div> <div class="stat-desc">Respuestas correctas</div></div> <div class="stat"><div class="stat-title">Precisión</div> <div class="stat-value"> </div> <div class="stat-desc">Porcentaje de aciertos</div></div></div> <!></div>');function na(h,o){Nt(o,!0);let n=x(Ft("questions",[])),i=g(x([])),r=g(-1),l=g(null),u=g(!1),B=g(!1),p=g(0),_=g(0),F=g(!1);Rt(()=>{J()});function J(){n.value.length!==0&&(d(i,x(Array.from({length:n.value.length},(v,m)=>m))),d(p,0),d(_,0),d(F,!1),K())}function K(){if(s(i).length===0){d(F,!0),d(l,null);return}const v=Math.floor(Math.random()*s(i).length);d(r,x(s(i)[v])),s(i).splice(v,1),d(i,x([...s(i)])),d(l,x(n.value[s(r)])),d(B,!1)}function ht(v){d(u,x(v)),d(B,!0),nt(_),v&&nt(p)}var H=Wt(),R=t(H),pt=e(t(R),2);Y(pt,"href",`${G??""}/`),a(R);var T=e(R,2),Z=t(T),O=e(t(Z),2),mt=t(O);a(O),P(2),a(Z);var D=e(Z,2),W=e(t(D),2),gt=t(W,!0);a(W),P(2),a(D);var tt=e(D,2),at=e(t(tt),2),bt=t(at);a(at),P(2),a(tt),a(T);var xt=e(T,2);{var wt=v=>{var m=Gt(),S=e(t(m),2),E=t(S);Y(E,"href",`${G??""}/`),a(S),a(m),f(v,m)},$t=v=>{var m=lt(),S=ot(m);{var E=k=>{var z=Jt(),V=t(z),A=e(t(V),2),C=t(A);a(A);var w=e(A,2),q=t(w),Q=t(q),U=t(Q);Et(U,{width:"40",height:"40"}),a(Q);var I=e(Q,4),$=t(I,!0);a(I),a(q);var c=e(q,2),y=t(c),X=t(y);Xt(X,{width:"40",height:"40"}),a(y);var st=e(y,4),kt=t(st,!0);a(st),a(c);var et=e(c,2),rt=t(et),zt=t(rt);a(rt),P(2),a(et),a(w);var it=e(w,2),vt=t(it);vt.__click=[Yt,J];var qt=e(vt,2);Y(qt,"href",`${G??""}/`),a(it),a(V),a(z),L(Qt=>{b(C,`Has respondido ${s(p)??""} de ${s(_)??""} preguntas
                    correctamente.`),b($,s(p)),b(kt,s(_)-s(p)),b(zt,`${Qt??""}%`)},[()=>s(_)>0?Math.round(s(p)/s(_)*100):0]),f(k,z)},yt=k=>{var z=lt(),V=ot(z);{var A=C=>{var w=Ot(),q=t(w),Q=t(q);Zt(Q,()=>s(r),$=>{Tt($,{get question(){return s(l)},get isCorrect(){return s(u)},set isCorrect(c){d(u,x(c))},$$events:{answered:c=>ht(c.detail)}})});var U=e(Q,2);{var I=$=>{var c=Kt(),y=t(c);y.__click=K;var X=t(y,!0);a(y),a(c),L(()=>b(X,s(i).length>0?"Siguiente pregunta":"Ver resultados")),f($,c)};j(U,$=>{s(B)&&$(I)})}a(q),a(w),f(C,w)};j(V,C=>{s(l)&&C(A)},!0)}f(k,z)};j(S,k=>{s(F)?k(E):k(yt,!1)},!0)}f(v,m)};j(xt,v=>{n.value.length===0?v(wt):v($t,!1)})}a(H),L(v=>{b(mt,`${s(_)??""}/${n.value.length??""}`),b(gt,s(p)),b(bt,`${v??""}%`)},[()=>s(_)>0?Math.round(s(p)/s(_)*100):0]),f(h,H),Bt()}Ht(["click"]);export{na as component};
