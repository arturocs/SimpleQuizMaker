import{n as J,b as $,t as j}from"../chunks/DbUJxtLh.js";import{p as na,h as ka,a6 as qa,at as La,au as Pa,w as Qa,C as Aa,o as Ca,d as Ma,ac as Sa,P as a,Q as y,R as t,S as A,q as Va,_ as b,u as Ia,Z as i,x as s,$ as n,ak as ca}from"../chunks/hsMS1WzM.js";import{s as x}from"../chunks/Dg3ZSStG.js";import{l as C,a as w,i as N}from"../chunks/CMtDVnAk.js";import{s as K,a as O,C as W,l as ja,b as X}from"../chunks/D5DtWYVZ.js";import{d as Ha}from"../chunks/QaqKAikp.js";import{o as Na}from"../chunks/DCg5tNew.js";import{Q as Ba}from"../chunks/BycKqFAR.js";import"../chunks/ZYj2PoyX.js";import{b as G}from"../chunks/DABm8j4z.js";function Fa(u,d,o){na&&ka();var r=u,e=Sa,v,c=qa()?La:Pa;Qa(()=>{c(e,e=d())&&(v&&Aa(v),v=Ca(()=>o(r)))}),na&&(r=Ma)}var Ta=J('<svg><!><path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm10.03 4.97a.75.75 0 0 1 .011 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.75.75 0 0 1 1.08-.022z"></path></svg>');function Ea(u,d){const o=C(d,["children","$$slots","$$events","$$legacy"]),r=C(o,[]);var e=Ta();let v;var c=a(e);K(c,d,"default",{}),y(),t(e),A(()=>v=O(e,v,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",...r,[W]:{bi:!0,"bi-check-square-fill":!0}})),$(u,e)}var Ra=J('<svg><!><path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm3.354 4.646L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 1 1 .708-.708z"></path></svg>');function Za(u,d){const o=C(d,["children","$$slots","$$events","$$legacy"]),r=C(o,[]);var e=Ra();let v;var c=a(e);K(c,d,"default",{}),y(),t(e),A(()=>v=O(e,v,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",...r,[W]:{bi:!0,"bi-x-square-fill":!0}})),$(u,e)}var Da=J('<svg><!><path d="M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"></path><path d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"></path></svg>');function Ua(u,d){const o=C(d,["children","$$slots","$$events","$$legacy"]),r=C(o,[]);var e=Da();let v;var c=a(e);K(c,d,"default",{}),y(2),t(e),A(()=>v=O(e,v,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",...r,[W]:{bi:!0,"bi-exclamation-triangle":!0}})),$(u,e)}function Xa(u,d){d()}var Ga=j(`<div class="alert alert-warning"><div class="flex items-center gap-2"><div class="flex-none"><!></div> <span>No hay preguntas disponibles. Por favor, crea algunas
                    preguntas primero.</span></div> <div class="flex-none"><a class="btn btn-sm whitespace-nowrap">Volver al inicio</a></div></div>`),Ja=j('<div class="card bg-base-100 shadow-xl"><div class="card-body items-center text-center"><h2 class="card-title text-2xl">¡Quiz completado!</h2> <p class="mb-4"> </p> <div class="stats shadow my-4"><div class="stat"><div class="stat-figure text-success"><!></div> <div class="stat-title">Aciertos</div> <div class="stat-value text-success"> </div></div> <div class="stat"><div class="stat-figure text-error"><!></div> <div class="stat-title">Fallos</div> <div class="stat-value text-error"> </div></div> <div class="stat"><div class="stat-value"> </div> <div class="stat-title">Precisión</div></div></div> <div class="card-actions"><button class="btn btn-primary">Volver a jugar</button> <a class="btn btn-outline">Volver al inicio</a></div></div></div>'),Ka=j('<div class="card-actions justify-center mt-4"><button class="btn btn-lg btn-primary"> </button></div>'),Oa=j('<div class="card bg-base-100 shadow-xl"><div class="card-body"><!> <!></div></div>'),Wa=j('<div class="container mx-auto px-4 py-8 max-w-3xl"><div class="flex justify-between items-center mb-6"><h1 class="text-3xl font-bold text-center">Test Aleatorio</h1> <a class="btn btn-outline btn-sm">Volver al inicio</a></div> <div class="stats shadow w-full mb-6"><div class="stat"><div class="stat-title">Progreso</div> <div class="stat-value text-primary"> </div> <div class="stat-desc">Preguntas respondidas</div></div> <div class="stat"><div class="stat-title">Puntuación</div> <div class="stat-value text-success"> </div> <div class="stat-desc">Respuestas correctas</div></div> <div class="stat"><div class="stat-title">Precisión</div> <div class="stat-value"> </div> <div class="stat-desc">Porcentaje de aciertos</div></div></div> <!></div>');function ot(u,d){Va(d,!0);let o=w(ja("questions",[])),r=b(w([])),e=b(-1),v=b(null),c=b(!1),B=b(!1),f=b(0),_=b(0),F=b(!1);Na(()=>{Y()});function Y(){o.value.length!==0&&(n(r,w(Array.from({length:o.value.length},(l,z)=>z))),n(f,0),n(_,0),n(F,!1),aa())}function aa(){if(s(r).length===0){n(F,!0),n(v,null);return}const l=Math.floor(Math.random()*s(r).length);n(e,w(s(r)[l])),s(r).splice(l,1),n(r,w([...s(r)])),n(v,w(o.value[s(e)])),n(B,!1)}function ua(l){n(c,w(l)),n(B,!0),ca(_),l&&ca(f)}var T=Wa(),E=a(T),_a=i(a(E),2);X(_a,"href",`${G??""}/`),t(E);var R=i(E,2),Z=a(R),ta=i(a(Z),2),ha=a(ta);t(ta),y(2),t(Z);var D=i(Z,2),sa=i(a(D),2),fa=a(sa,!0);t(sa),y(2),t(D);var ea=i(D,2),ia=i(a(ea),2),pa=a(ia);t(ia),y(2),t(ea),t(R);var ga=i(R,2);{var ma=l=>{var z=Ga(),M=a(z),H=a(M),p=a(H);Ua(p,{}),t(H),y(2),t(M);var g=i(M,2),L=a(g);X(L,"href",`${G??""}/`),t(g),t(z),$(l,z)},ba=(l,z)=>{{var M=p=>{var g=Ja(),L=a(g),k=i(a(L),2),S=a(k);t(k);var P=i(k,2),Q=a(P),V=a(Q),U=a(V);Ea(U,{width:"40",height:"40"}),t(V);var m=i(V,4),h=a(m,!0);t(m),t(Q);var q=i(Q,2),I=a(q),xa=a(I);Za(xa,{width:"40",height:"40"}),t(I);var ra=i(I,4),wa=a(ra,!0);t(ra),t(q);var va=i(q,2),la=a(va),$a=a(la);t(la),y(2),t(va),t(P);var da=i(P,2),oa=a(da);oa.__click=[Xa,Y];var ya=i(oa,2);X(ya,"href",`${G??""}/`),t(da),t(L),t(g),A(za=>{x(S,`Has respondido ${s(f)??""} de ${s(_)??""} preguntas
                    correctamente.`),x(h,s(f)),x(wa,s(_)-s(f)),x($a,`${za??""}%`)},[()=>s(_)>0?Math.round(s(f)/s(_)*100):0]),$(p,g)},H=(p,g)=>{{var L=k=>{var S=Oa(),P=a(S),Q=a(P);Fa(Q,()=>s(e),m=>{Ba(m,{get question(){return s(v)},get isCorrect(){return s(c)},set isCorrect(h){n(c,w(h))},$$events:{answered:h=>ua(h.detail)}})});var V=i(Q,2);{var U=m=>{var h=Ka(),q=a(h);q.__click=aa;var I=a(q,!0);t(q),t(h),A(()=>x(I,s(r).length>0?"Siguiente pregunta":"Ver resultados")),$(m,h)};N(V,m=>{s(B)&&m(U)})}t(P),t(S),$(k,S)};N(p,k=>{s(v)&&k(L)},g)}};N(l,p=>{s(F)?p(M):p(H,!1)},z)}};N(ga,l=>{o.value.length===0?l(ma):l(ba,!1)})}t(T),A(l=>{x(ha,`${s(_)??""}/${o.value.length??""}`),x(fa,s(f)),x(pa,`${l??""}%`)},[()=>s(_)>0?Math.round(s(f)/s(_)*100):0]),$(u,T),Ia()}Ha(["click"]);export{ot as component};
